/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={702:function(t,e,n){t.exports=function(){"use strict";function t(t){return"function"==typeof t}var e=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,r=void 0,i=void 0,s=function(t,e){f[o]=t,f[o+1]=e,2===(o+=2)&&(i?i(m):y())};var c="undefined"!=typeof window?window:void 0,a=c||{},l=a.MutationObserver||a.WebKitMutationObserver,u="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var t=setTimeout;return function(){return t(m,1)}}var f=new Array(1e3);function m(){for(var t=0;t<o;t+=2)(0,f[t])(f[t+1]),f[t]=void 0,f[t+1]=void 0;o=0}var v,_,g,p,y=void 0;function w(t,e){var n=this,o=new this.constructor(L);void 0===o[E]&&$(o);var r=n._state;if(r){var i=arguments[r-1];s((function(){return C(r,o,i,n._result)}))}else j(n,o,t,e);return o}function b(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(L);return T(e,t),e}y=u?function(){return process.nextTick(m)}:l?(_=0,g=new l(m),p=document.createTextNode(""),g.observe(p,{characterData:!0}),function(){p.data=_=++_%2}):d?((v=new MessageChannel).port1.onmessage=m,function(){return v.port2.postMessage(0)}):void 0===c?function(){try{var t=Function("return this")().require("vertx");return void 0!==(r=t.runOnLoop||t.runOnContext)?function(){r(m)}:h()}catch(t){return h()}}():h();var E=Math.random().toString(36).substring(2);function L(){}var S=void 0;function A(e,n,o){n.constructor===e.constructor&&o===w&&n.constructor.resolve===b?function(t,e){1===e._state?q(t,e._result):2===e._state?M(t,e._result):j(e,void 0,(function(e){return T(t,e)}),(function(e){return M(t,e)}))}(e,n):void 0===o?q(e,n):t(o)?function(t,e,n){s((function(t){var o=!1,r=function(t,e,n,o){try{t.call(e,n,o)}catch(t){return t}}(n,e,(function(n){o||(o=!0,e!==n?T(t,n):q(t,n))}),(function(e){o||(o=!0,M(t,e))}),t._label);!o&&r&&(o=!0,M(t,r))}),t)}(e,n,o):q(e,n)}function T(t,e){if(t===e)M(t,new TypeError("You cannot resolve a promise with itself"));else if(r=typeof(o=e),null===o||"object"!==r&&"function"!==r)q(t,e);else{var n=void 0;try{n=e.then}catch(e){return void M(t,e)}A(t,e,n)}var o,r}function x(t){t._onerror&&t._onerror(t._result),P(t)}function q(t,e){t._state===S&&(t._result=e,t._state=1,0!==t._subscribers.length&&s(P,t))}function M(t,e){t._state===S&&(t._state=2,t._result=e,s(x,t))}function j(t,e,n,o){var r=t._subscribers,i=r.length;t._onerror=null,r[i]=e,r[i+1]=n,r[i+2]=o,0===i&&t._state&&s(P,t)}function P(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var o=void 0,r=void 0,i=t._result,s=0;s<e.length;s+=3)o=e[s],r=e[s+n],o?C(n,o,r,i):r(i);t._subscribers.length=0}}function C(e,n,o,r){var i=t(o),s=void 0,c=void 0,a=!0;if(i){try{s=o(r)}catch(t){a=!1,c=t}if(n===s)return void M(n,new TypeError("A promises callback cannot return that same promise."))}else s=r;n._state!==S||(i&&a?T(n,s):!1===a?M(n,c):1===e?q(n,s):2===e&&M(n,s))}var N=0;function $(t){t[E]=N++,t._state=void 0,t._result=void 0,t._subscribers=[]}var O=function(){function t(t,n){this._instanceConstructor=t,this.promise=new t(L),this.promise[E]||$(this.promise),e(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?q(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&q(this.promise,this._result))):M(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;this._state===S&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,o=n.resolve;if(o===b){var r=void 0,i=void 0,s=!1;try{r=t.then}catch(t){s=!0,i=t}if(r===w&&t._state!==S)this._settledAt(t._state,e,t._result);else if("function"!=typeof r)this._remaining--,this._result[e]=t;else if(n===I){var c=new n(L);s?M(c,i):A(c,t,r),this._willSettleAt(c,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(o(t),e)},t.prototype._settledAt=function(t,e,n){var o=this.promise;o._state===S&&(this._remaining--,2===t?M(o,n):this._result[e]=n),0===this._remaining&&q(o,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;j(t,void 0,(function(t){return n._settledAt(1,e,t)}),(function(t){return n._settledAt(2,e,t)}))},t}();var I=function(){function e(t){this[E]=N++,this._result=this._state=void 0,this._subscribers=[],L!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e((function(e){T(t,e)}),(function(e){M(t,e)}))}catch(e){M(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this,o=n.constructor;return t(e)?n.then((function(t){return o.resolve(e()).then((function(){return t}))}),(function(t){return o.resolve(e()).then((function(){throw t}))})):n.then(e,e)},e}();return I.prototype.then=w,I.all=function(t){return new O(this,t).promise},I.race=function(t){var n=this;return e(t)?new n((function(e,o){for(var r=t.length,i=0;i<r;i++)n.resolve(t[i]).then(e,o)})):new n((function(t,e){return e(new TypeError("You must pass an array to race."))}))},I.resolve=b,I.reject=function(t){var e=new this(L);return M(e,t),e},I._setScheduler=function(t){i=t},I._setAsap=function(t){s=t},I._asap=s,I.polyfill=function(){var t=void 0;if(void 0!==n.g)t=n.g;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var o=null;try{o=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===o&&!e.cast)return}t.Promise=I},I.Promise=I,I}()},746:()=>{window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,e){e=e||window;for(var n=0;n<this.length;n++)t.call(e,this[n],n,this)})}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={exports:{}};return t[o].call(i.exports,i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{"use strict";n(746);const t=function(t){t.classList.remove("show"),t.classList.add("hide"),document.body.style.overflow=""},e=function(t,e,n,o){t.addEventListener("click",(r=>{(r.target.classList.contains(o.slice(1))||r.target.classList.contains(n))&&e(t)})),document.addEventListener("keydown",(n=>{"Escape"===n.code&&t.classList.contains("show")&&e(t)}))},o=function(n,o,r,i){const s=document.querySelectorAll(n),c=document.querySelector(o);s.forEach((n=>function(n){n.addEventListener("submit",(s=>{s.preventDefault();const a=document.createElement("div");a.innerHTML='<img style="display:block; margin:0 auto" src=/img/form/spinner.svg alt="Загрузка" />',n.after(a);const l=document.querySelector(".footer"),u=document.createElement("div");u.classList.add("modal","show"),u.innerHTML='\n       <div class="modal__dialog">\n         <div class="modal__content">\n           <form action="#">\n             <div data-close_modal class="modal__close">&times;</div>\n             <div class="modal__title" >\n             </div>\n           </form>\n         </div>\n       </div>';const d=function(t){l.after(u),e(u,(function(t){t.remove()}),i,o),document.querySelector(r).textContent=t},h=Object.fromEntries(new FormData(n).entries());(async(t,e)=>{const n=await fetch("http://localhost:3000/requests",{method:"POST",headers:{"Content-type":"application/json"},body:e});return await n.json()})(0,JSON.stringify(h)).then((t=>{d("Спасибо! Скоро мы с вами свяжемся")})).catch((t=>{console.log(t),d("Что-то пошло не так...")})).finally((()=>{n.reset(),a.remove(),t(c)}))}))}(n)))};n(702).polyfill(),window.addEventListener("DOMContentLoaded",(()=>{(function(){const t=document.querySelector(".calculating__field"),e=t.querySelector("#gender"),n=t.querySelector('[data-set="activity"]'),o=t.querySelector('[data-set="constitution"]'),r=t.querySelector(".calculating__result > span"),i=()=>{const t={genderProp:l,activeProp:u,height:d,weight:h,age:f,actionIndexFallow:m};localStorage.setItem("param",JSON.stringify(t)),a=JSON.parse(localStorage.getItem("param"))},s=t=>{let e=[];return t.childNodes.forEach(((t,n)=>{"#text"!==t.nodeName&&e.push(t)})),e.forEach((t=>{t.classList.remove("calculating__choose-item_active")})),e},c=t=>{t.target.classList.add("calculating__choose-item_active")};let a=JSON.parse(localStorage.getItem("param")),l=a.genderProp,u=a.activeProp,d=a.height,h=a.weight,f=a.age,m=a.actionIndexFallow;const v=[1.2,1.375,1.55,1.725],_=()=>{let e;5===t.querySelectorAll(".calculating__choose-item_active").length?("Мужчина"===a.genderProp&&(e=Math.floor(a.actionIndexFallow*(88.36+13.4*a.weight+4.8*a.height-5.7*a.age))),"Женщина"===a.genderProp&&(e=Math.floor(a.actionIndexFallow*(447.6+9.2*a.weight+3.1*a.height-4.3*a.age))),r.innerText=e):r.innerText="----  "};s(o).forEach((t=>{"height"===t.id&&(t.value=a.height),"weight"===t.id&&(t.value=a.weight),"age"===t.id&&(t.value=a.age),t.value&&t.classList.add("calculating__choose-item_active")})),s(e).forEach((t=>{t.innerText===a.genderProp&&t.classList.add("calculating__choose-item_active")})),s(n).forEach(((t,e)=>{t.setAttribute("data-about",v[e]),t.innerText===a.activeProp&&t.classList.add("calculating__choose-item_active")})),_(),e.addEventListener("click",(t=>{t.target.classList.contains("calculating__choose-item")&&(s(e),c(t),l=t.target.innerText),i(),_()})),n.addEventListener("click",(t=>{t.target.classList.contains("calculating__choose-item")&&(s(n),c(t),u=t.target.innerText,m=t.target.dataset.about),i(),_()})),o.addEventListener("focusout",(t=>{t.target.classList.contains("calculating__choose-item")&&s(o).forEach((t=>{t.value=t.value.replace(/\D/g,""),t.value&&t.classList.add("calculating__choose-item_active"),"height"===t.id&&(d=t.value),"weight"===t.id&&(h=t.value),"age"===t.id&&(f=t.value)})),i(),_()}))})(),function(){class t{constructor(t,e,n,o,r,i,s){this.textImg=s,this.img=t,this.subtitle=e,this.descr=n,this.price=o,this.parent=document.querySelector(i);for(var c=arguments.length,a=new Array(c>7?c-7:0),l=7;l<c;l++)a[l-7]=arguments[l];this.classes=a,this.convert=r}#t;set convert(t){this.#t=t*this.price}get convert(){return this.#t}render(){const t=document.createElement("div");0===this.classes.length?this.classes="menu__item":this.classes.forEach((e=>t.classList.add(e))),t.innerHTML=` <img src=${this.img} alt=${this.textImg} />\n        <h3 class="menu__item-subtitle">${this.subtitle}</h3>\n        <div class="menu__item-descr">\n          ${this.descr}\n        </div>\n        <div class="menu__item-divider"></div>\n        <div class="menu__item-price">\n          <div class="menu__item-cost">Цена:</div>\n          <div class="menu__item-total"><span>${this.convert}</span> грн/день</div>\n        </div>`,this.parent.append(t)}}(async t=>{let e=await fetch(t);if(!e.ok)throw new Error(`Could not fetch ${t}, status ${e.status}`);return await e.json()})("http://localhost:3000/menu").then((e=>{e.forEach((e=>{let{img:n,title:o,descr:r,price:i}=e;new t(n,o,r,i,36,".menu .container","IMG","menu__item").render()}))}))}(),o("form",".modal",".modal__title","modal__close"),function(n,o,r){const i=document.querySelectorAll(n),s=document.querySelector(o),c=function(t){t.classList.add("show"),t.classList.remove("hide"),document.body.style.overflow="hidden",clearTimeout(l),document.removeEventListener("scroll",a)};i.forEach((t=>{t.addEventListener("click",(()=>{c(s)}))})),e(s,t,r,o);const a=()=>{const t=document.documentElement.scrollHeight,e=window.pageYOffset;t<=document.documentElement.clientHeight+e+1&&c(s)};let l;document.addEventListener("scroll",a),function(){l=setTimeout((()=>{c(s)}),arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e6)}()}("[data-open_modal]",".modal","modal__close"),function(t){let{slider:e,duringNum:n,sum:o,itemSlide:r,sliderWrap:i,sliderRibbon:s,indicators:c,dots:a,buttPrev:l,buttNext:u}=t;const d=document.querySelector(e),h=d.querySelector(n),f=d.querySelector(o),m=d.querySelectorAll(r),v=d.querySelector(i),_=d.querySelector(s),g=window.getComputedStyle(v).width;_.style.width=100*m.length+"%",_.style.display="flex",_.style.transition="0.5s all",v.style.overflow="hidden";let p=1;m.forEach((t=>{t.style.width=g})),m.length<10?f.innerText="0"+m.length:f.innerText=m.length;const y=t=>{h.innerText=t<10?"0"+t:t,_.style.transform=`translateX(-${(t-1)*g.replace(/\D/g,"")}px)`},w=t=>(t<1&&(t=m.length),t>m.length&&(t=1),t);y(p),d.style.position="relative";const b=document.createElement("div");b.innerHTML=`<ol class="${c.slice(1)}">\n  </ol>`,d.append(b);const E=d.querySelector(c);m.forEach(((t,e)=>E.insertAdjacentHTML("beforeend",`<li class="${a.slice(1)}">\n    </li>`)));const L=E.querySelectorAll(a),S=t=>{L.forEach(((e,n)=>{e.style.opacity="0.5",t===n+1&&(e.style.opacity="1")}))};S(p),d.addEventListener("click",(t=>{t.preventDefault();const e=t.target;e.classList.contains(a.slice(1))&&L.forEach(((t,n)=>{e===t&&(p=n+1,y(p))})),e.className!==l&&e.alt!==l.slice(-4)||(p-=1,p=w(p),y(p)),e.className!==u&&e.alt!==u.slice(-4)||(p+=1,p=w(p),y(p)),S(p)}))}({duringNum:"#current",sum:"#total",itemSlide:".offer__slide",sliderWrap:".offer__slider-wrapper",sliderRibbon:".offer__slider-inner",indicators:".carousel-indicators",dots:".dot",buttPrev:"offer__slider-prev",buttNext:"offer__slider-next",slider:".offer__slider"}),function(t,e,n,o){const r=document.body.querySelectorAll(t),i=document.body.querySelector(e),s=document.body.querySelectorAll(n);function c(){r.forEach((t=>{t.classList.add("hide"),t.classList.remove("show","fade")})),s.forEach((t=>t.classList.remove(o)))}function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;r[t].classList.add("show","fade"),r[t].classList.remove("hide"),s[t].classList.add(o)}c(),a(),i.addEventListener("click",(t=>{t.preventDefault();const e=t.target;(e||e.classList.contains(n.replace(/./g,"")))&&s.forEach(((t,n)=>{t==e&&(c(),a(n))}))}))}(".tabcontent",".tabheader__items",".tabheader__item","tabheader__item_active"),function(t,e,n,o,r,i){const s=document.getElementById(e),c=document.getElementById(n),a=document.getElementById(o),l=document.getElementById(r),u=document.querySelector(i),d=new Date,h=6e3*d.getTimezoneOffset(),f=new Date(d.getTime()+h),m=new Date(t);let v=m-f;u.innerHTML=`Мы ценим каждого клиента и предлагаем вам стать одним из них на\n    очень выгодных условиях. Каждому, кто закажет доставку питание на\n    неделю, будет предоставлена скидка в размере <span>20%!</span>\n    <br /><br />\n    Акция закончится ${m.getDate()} ${["Января","Февраля","Марта","Апреля","Мая","Июня","Июля","Августа","Сентября","Октября","Ноября","Декабря"][m.getMonth()].toLocaleLowerCase()} в 00:00 по времени UTS`;const _={daysAct:0,hoursAct:0,minutesAct:0,secondsAct:0};!function(){let t=setTimeout((function e(){v>=0?(v-=1e3,function(t){_.daysAct=Math.floor(t/864e5),_.hoursAct=Math.floor(t/144e4%24),_.minutesAct=Math.floor(t/6e4%60),_.secondsAct=Math.floor(t/1e3%60);for(let t in _)String(_[t]).length<2&&(_[t]="0"+_[t])}(v),s.textContent=`${_.daysAct}`,c.textContent=`${_.hoursAct}`,a.textContent=`${_.minutesAct}`,l.textContent=`${_.secondsAct}`,t=setTimeout(e,1e3)):clearTimeout(t)}),1)}()}("2023-01-10","days","hours","minutes","seconds",".promotion__descr")}))})()})();
//# sourceMappingURL=bundle.js.map